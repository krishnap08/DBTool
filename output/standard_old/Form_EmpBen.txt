<!-- Form: EmpBen Starts-->

<!-- Scripts inclusion block Starts -->
  <script name="EmpDepCombo" />
  <script name="BenCombo" />
  <script name="StatusCombo" />
<!-- Scripts inclusion block Ends -->

<!-- Event Handling block Start -->
<event name="afterSave" where="Server">
  <todo wrkflw="EmpBenDepSync">
      <prm name="N_Emp">[N_Emp]</prm>
      <prm name="Schedule">No</prm>
   </todo>
  <todo wrkflw="EmpBenBnfSync">
      <prm name="N_Emp">[N_Emp]</prm>
      <prm name="Schedule">No</prm>
   </todo>
</event>
  <!-- <event name="beforeSave" where="Server">
        <dataset name="FSAMinMax">
        <tables>
        <tbl name="Ben" />
        </tables>
        <fields>
        <fld name="Ben.AnnlAmtMin" display="Yes" />
        <fld name="Ben.AnnlAmtMax" display="Yes" />
        </fields>
        <where>
        <eq><fld name="Ben.Ben" /><val>[N_Ben_main_1]</val></eq>
        </where>
      </dataset>
     <datasetopen dataset="FSAMinMax" />
     <set var="v_AnnlAmtMin">[fld_FSAMinMax.AnnlAmtMin]</set>
     <set var="v_AnnlAmtMax">[fld_FSAMinMax.AnnlAmtMax]</set>
     <if>
      <when>
    <or>
          <lt><val type="Number">[N_AnnElectAmt_main_1]</val><val type="Number">[fld_FSAMinMax.AnnlAmtMin]</val></lt>
           <gt><val>[N_AnnElectAmt_main_1]</val><val>[fld_FSAMinMax.AnnlAmtMax]</val></gt>
         </or>
    </when>
          <then> 
      <error code="FSAMinMax">
         <prm name="Ben">[N_Ben_main_1]</prm>
         <prm name="BenVal">[N_AnnElectAmt_main_1]</prm>
          <prm  name="VarMin">[v_AnnlAmtMin]</prm>
          <prm name="VarMax">[v_AnnlAmtMax]</prm>
          <prm name="AnnElectMin">[fld_FSAMinMax.AnnlAmtMin]</prm>
           <prm name="AnnElectMax">[fld_FSAMinMax.AnnlAmtMax]</prm>
        <prm name="MinVal">[fld_FSAMinMax.AnnlAmtMin]</prm>
        <prm name="MaxVal">[fld_FSAMinMax.AnnlAmtMax]</prm>
      </error>
      <cancelevent />
     </then>
    </if>
    <datasetclose dataset="FSAMinMax" />
    </event> -->

    <!-- Client Side Event Handling BLock Starts-->

    <event name="onChange" ctl="Ben" where="Client" view="edit">
      <native lang="Javascript">
        if (NuElement.getValueById("F_CmdLast") != "Copy") {
          if ((ctlGetVal("N_Ben_main_1") != ctlGetVal("O_Ben_main_1")) &amp;&amp;  (ctlGetVal("O_Ben_main_1") != "")) {
            v_Return = confirm("For payroll purposes you should not change a benefit.Instead you should insert a new benefit and terminate/delete the current benefit\n Are you sure you wish to do this?");
            if(v_Return == false) {
              ctlSetVal("N_Ben_main_1", ctlGetVal("O_Ben_main_1"));
            }
          }
        }
      </native>
    </event>

    <event name="onChange" ctl="EmpBenEffDt" where="Client" view="edit">
      <native lang="Javascript">
        sEffDt = "";
        sEffDt_O ="";
        sNow  = "";
        sEffDt_O = ctlGetVal("O_EmpBenEffDt_main_1");
        if (sEffDt_O != "") {  
           sEffDt_O = strToDte(sEffDt_O,"");
            sEffDt = strToDte(ctlGetVal("N_EmpBenEffDt_main_1"),"");
            sNow = dteGetPartByType(strToDte(dteNow(),""),11);
            if ((sEffDt != sEffDt_O) &amp;&amp;  (sEffDt &gt; sNow)) {
              v_Return = confirm("You are future dating these changes. These changes will be effective on the entered date. \nAre you sure you wish to do this?");
              if(v_Return == false) {
                ctlSetVal("N_EmpBenEffDt_main_1", sEffDt_O);
              }
            } else if ((sEffDt != sEffDt_O) &amp;&amp; (sEffDt &lt; sNow)) {
                msg("BenEffDtPstChgMsg", "msgtext=You are past dating these changes. These changes will be effective for this payroll but no adjustments will be made for past payroll.");
            } else if ((sEffDt != sEffDt_O)) {
              msg("BenEffDtChgMsg", "msgtext=You have changed the start date of this benefit. This benefit is already active in payroll. You must delete this benefit and recreate it to change dates.");
            }
        }
      </native>
    </event>

    <event name="BeforeSave" where="Client" view="edit">
      <native lang="Javascript">
        <![CDATA[
          var v_bIsPrmPrsnt;
          var v_bIsConPrsnt;
          var v_iCnt;
          var v_iCntContNum;
          var v_iCntNotContNum;
          var v_iConSum;
          var v_iI;
          var v_iItems;
          var v_iNum;
          var v_iRowCount;
          var v_sIsConfirm;
          var v_objText;
          var v_oCtlXml;
          v_iPrmSum = 0;
          v_iConSum = 0;
          var v_Return;
          v_Return = true;
          v_bIsPrmPrsnt = v_bIsConPrsnt = false;
          v_iRowCount = ctlGetVal("F_RowCnt_beneficiaries");
          v_objText = ctlGetDef("datasheet_beneficiaries_multientry");
          v_iItems = v_objText.itemlist;
          if (v_iItems) {
            v_iCnt = v_iItems.size();
          } else {
            v_iCnt = 0;
          }
          if (v_iCnt > 0) {
            v_iCntContNum = 0;
            v_iCntNotContNum = 0;
            for (v_iI = 1; v_iI <= v_iRowCount; v_iI++) {
              if (ctlGetDef("F_BnfNum_beneficiaries_" + v_iI)) {
                if (ctlGetVal("N_Contingency_beneficiaries_" + v_iI) == "No") {
                  v_iCntNotContNum++;
                  v_bIsPrmPrsnt = true;
                  v_iPrmSum = NuStr.toNum(ctlGetVal("N_BnfPct_beneficiaries_" + v_iI)) + v_iPrmSum;
                }
                else {
                  v_iCntContNum++;
                  v_bIsConPrsnt = true;
                  v_iConSum = NuStr.toNum(ctlGetVal("N_BnfPct_beneficiaries_" + v_iI)) + v_iConSum;
                }
              }
            }

            /* Changes done for the event 7081 */
            if (v_bIsConPrsnt) {
              if(v_iCntNotContNum == 0 && v_iCntContNum >0) {
                msg("IsPrmExst", "msgtext=]]><lookup dataset="IsPrmExst" /><![CDATA[");
                v_Return = false;
              } else if (v_iConSum.toFixed(2) != 100) {
                msg("ConPercentNotHndrd","msgtext=]]><lookup dataset="ConPercentNotHndrd" /><![CDATA[");
                v_Return = false;
              } else if (v_bIsPrmPrsnt && v_iPrmSum.toFixed(2) != 100) {
                msg("PrmPercentNotHndrd","msgtext=]]><lookup dataset="PrmPercentNotHndrd" /><![CDATA[");
                v_Return = false;
              } 
            } else if (v_bIsPrmPrsnt && v_iPrmSum.toFixed(2) != 100) {
              msg("PrmPercentNotHndrd","msgtext=]]><lookup dataset="PrmPercentNotHndrd" /><![CDATA[");
              v_Return = false;
            } else {
              v_Return = true;
            }
          }
        ]]>
      </native>
    </event>
  <!-- Client Side Event Handling BLock Ends -->
<!-- Event Handling Block Ends -->

<!-- Static Dataset Declarartion Block Start -->
  <dataset name="IsPrmExst">
    <tables>
      <tbl name="Msg" />
    </tables>
    <display>
      <fld name="Msg.Message" />
      <fld name="Profile" >
        <if>
          <when>
            <eq>
              <fld name="Msg.Pfl" />
              <val>[Profile]</val>
            </eq>
          </when>
          <then>
            <val>0</val>
          </then>
          <else>
            <if>
              <when>
                <eq>
                  <fld name="Msg.Pfl" />
                  <val>Df</val>
                </eq>
              </when>
              <then>
                <val>1</val>
              </then>
            </if>
          </else>
        </if>
      </fld>
    </display>
    <where>
      <and>
        <eq>
          <fld name="Msg.Msg" />
          <val>IsPrmExst</val>
        </eq>
        <or>
          <eq>
            <fld name="Msg.Pfl" />
            <val>[Profile]</val>
          </eq>
          <eq>
            <fld name="Msg.Pfl" />
            <val>Df</val>
          </eq>
        </or>
      </and>
    </where>
    <order>
      <fld name="Profile" />
    </order>
  </dataset>

  <dataset name="PrmPercentNotHndrd">
    <tables>
      <tbl name="Msg" />
    </tables>
    <display>
      <fld name="Msg.Message" />
      <fld name="Profile" >
        <if>
          <when>
            <eq>
              <fld name="Msg.Pfl" />
              <val>[Profile]</val>
            </eq>
          </when>
          <then>
            <val>0</val>
          </then>
          <else>
            <if>
              <when>
                <eq>
                  <fld name="Msg.Pfl" />
                  <val>Df</val>
                </eq>
              </when>
              <then>
                <val>1</val>
              </then>
            </if>
          </else>
        </if>
      </fld>
    </display>
    <where>
      <and>
        <eq>
          <fld name="Msg.Msg" />
          <val>PrmPercentNotHndrd</val>
        </eq>
        <or>
          <eq>
            <fld name="Msg.Pfl" />
            <val>[Profile]</val>
          </eq>
          <eq>
            <fld name="Msg.Pfl" />
            <val>Df</val>
          </eq>
        </or>
      </and>
    </where>
    <order>
      <fld name="Profile" />
    </order>
  </dataset>
    
    <dataset name="ConPercentNotHndrd">
    <tables>
      <tbl name="Msg" />
    </tables>
    <display>
      <fld name="Msg.Message" />
      <fld name="Profile" >
        <if>
          <when>
            <eq>
              <fld name="Msg.Pfl" />
              <val>[Profile]</val>
            </eq>
          </when>
          <then>
            <val>0</val>
          </then>
          <else>
            <if>
              <when>
                <eq>
                  <fld name="Msg.Pfl" />
                  <val>Df</val>
                </eq>
              </when>
              <then>
                <val>1</val>
              </then>
            </if>
          </else>
        </if>
      </fld>
    </display>
    <where>
      <and>
        <eq>
          <fld name="Msg.Msg" />
          <val>ConPercentNotHndrd</val>
        </eq>
        <or>
          <eq>
            <fld name="Msg.Pfl" />
            <val>[Profile]</val>
          </eq>
          <eq>
            <fld name="Msg.Pfl" />
            <val>Df</val>
          </eq>
        </or>
      </and>
    </where>
    <order>
      <fld name="Profile" />
    </order>
  </dataset>

  <dataset name="main">
    <tables>
      <tbl name="Emp"/>
      <tbl name="EmpBen" main="Yes" join="LEFT" to="Emp">
        <eq>
          <fld name="Emp.Emp"/>
          <fld name="EmpBen.Emp"/>
        </eq>
      </tbl>
      <tbl name="Eml" join="LEFT" to="EmpBen">
        <and>
          <eq>
            <fld name="Eml.Emp"/>
            <fld name="EmpBen.Emp"/>
          </eq>
          <eq>
            <fld name="Eml.Eml"/>
            <fld name="EmpBen.Eml"/>
          </eq>
          <isnull>
            <fld name="Eml.EmlEfdDt"/>
          </isnull>
        </and>
      </tbl>
      <tbl name="Job" join="LEFT" to="Eml">
        <and>
          <eq>
            <fld name="Eml.Job"/>
            <fld name="Job.Job"/>
          </eq>
          <isnull>
            <fld name="Job.JobEfdDt"/>
          </isnull>
        </and>
      </tbl>
      <tbl name="PayGrp" join="LEFT" to="Eml">
        <and>
          <eq>
            <fld name="Eml.PayGrp"/>
            <fld name="PayGrp.PayGrp"/>
          </eq>
          <isnull>
            <fld name="PayGrp.PayGrpEfdDt"/>
          </isnull>
        </and>
      </tbl>
      <tbl name="Ben" join="LEFT" to="EmpBen">
        <eq>
          <fld name="Ben.Ben"/>
          <fld name="EmpBen.Ben"/>
        </eq>
      </tbl>
      <tbl name="EnrSum" join="LEFT" to="Ben">
        <eq>
          <fld name="Ben.EnrSum"/>
          <fld name="EnrSum.EnrSum"/>
        </eq>
      </tbl>
    </tables>
    <display>
      <fld name="EmpBen.*"/>
      <fld name="Ben.BenId"/>
      <fld name="Ben.EnrSum"/>
      <fld name="Ben.EnrSum"/>
      <fld name="Ben.BenName"/>
      <fld name="Ben.IsEmpPremEmpAmt"/>
      <fld name="Ben.IsEmpCovEmpAmt"/>
      <fld name="Ben.IsCmpPremEmpAmt"/>
      <fld name="Ben.IsCmpCovEmpAmt"/>
      <fld name="Ben.IsTotPremEmpAmt"/>
      <fld name="Ben.IsTotCovEmpAmt"/>
      <fld name="Ben.IsFlxCrdEmpAmt"/>
      <fld name="Emp.EmpId"/>
      <fld name="EmpCde" origname="Emp.Emp" type="String"/>
      <fld name="EmpName">
        <append>
          <fld name="Emp.LastName" type="String"/>
          <val>, </val>
          <fld name="Emp.FirstName" type="String"/>
        </append>
      </fld>
      <script name="EmlHeaderFlds"/>
    </display>
    <order>
      <fld name="EmpBen.Emp"/>
      <fld name="Ben.EnrSum" descending="Yes"/>
      <fld name="EmpBen.Eml"/>
      <fld name="EnrSum.EnrStartDt" descending="Yes"/>
      <fld name="EmpBen.EmpBenEffDt" descending="Yes"/>
      <fld name="EmpBen.EmpBenEfdDt" descending="Yes"/>
      <fld name="EmpBen.Ben"/>
    </order>
    <includehistory>Yes</includehistory>
  </dataset>

  <dataset name="dependents" canchange="Yes">
    <tables>
      <tbl name="EmpBen"/>
      <tbl name="EmpBenDep" main="Yes" join="INNER" to="EmpBen">
        <and>
          <eq>
            <fld name="EmpBen.Emp"/>
            <fld name="EmpBenDep.Emp"/>
          </eq>
          <eq>
            <fld name="EmpBen.Ben"/>
            <fld name="EmpBenDep.Ben"/>
          </eq>
          <eq>
            <fld name="EmpBen.Eml"/>
            <fld name="EmpBenDep.Eml"/>
          </eq>
          <le>
            <fld name="EmpBen.EmpBenEffDt" type="Date" />
            <fld name="EmpBenDep.EmpBenDepEffDt" type="Date" />
          </le>
          <or>
            <and>
              <notnull><fld name="EmpBen.EmpBenEfdDt" /></notnull>
              <notnull><fld name="EmpBenDep.EmpBenDepEfdDt" /></notnull>
              <ge>
                <fld name="EmpBen.EmpBenEfdDt" type="Date" />
                <fld name="EmpBenDep.EmpBenDepEfdDt" type="Date" />
              </ge>
            </and>
            <isnull><fld name="EmpBen.EmpBenEfdDt" /></isnull>
          </or>
        </and>
      </tbl>
      <tbl name="EmpDep" join="LEFT" to="EmpBenDep">
        <and>
          <eq>
            <fld name="EmpDep.Emp"/>
            <fld name="EmpBenDep.Emp"/>
          </eq>
          <eq>
            <fld name="EmpDep.Dep"/>
            <fld name="EmpBenDep.Dep"/>
          </eq>
        </and>
      </tbl>
    </tables>
    <display>
      <fld name="EmpBenDep.*"/>
      <fld name="EmpCde" origname="EmpBenDep.Emp" type="String"/>
      <fld name="BenCde" origname="EmpBenDep.Ben" type="String"/>
      <fld name="DepCde">
        <append>
          <fld name="EmpDep.Dep" type="Number"/>
          <val> {</val>
          <fld name="EmpDep.DepLastName" type="String"/>
          <val>, </val>
          <fld name="EmpDep.DepFirstName" type="String"/>
          <val>}</val>
        </append>
      </fld>
    </display>
    <where>
      <eq>
        <fld name="EmpBen.EmpBenId" type="Number"/>
        <val>[F_NavId]</val>
      </eq>
    </where>
    <order>
      <fld name="EmpBenDep.Ben"/>
    </order>
    <includehistory>Yes</includehistory>
  </dataset>

  <dataset name="beneficiaries" canchange="Yes">
    <tables>
      <tbl name="EmpBen"/>
      <tbl name="EmpBenBnf" main="Yes" join="INNER" to="EmpBen">
        <and>
          <eq>
            <fld name="EmpBen.Emp"/>
            <fld name="EmpBenBnf.Emp"/>
          </eq>
          <eq>
            <fld name="EmpBen.Ben"/>
            <fld name="EmpBenBnf.Ben"/>
          </eq>
          <eq>
            <fld name="EmpBen.Eml"/>
            <fld name="EmpBenBnf.Eml"/>
          </eq>
          <le>
            <fld name="EmpBen.EmpBenEffDt" type="Date" />
            <fld name="EmpBenBnf.EmpBenBnfEffDt" type="Date" />
          </le>
          <or>
            <and>
              <notnull><fld name="EmpBen.EmpBenEfdDt" /></notnull>
              <notnull><fld name="EmpBenBnf.EmpBenBnfEfdDt" /></notnull>
              <ge>
                <fld name="EmpBen.EmpBenEfdDt" type="Date" />
                <fld name="EmpBenBnf.EmpBenBnfEfdDt" type="Date" />
              </ge>
            </and>
            <isnull><fld name="EmpBen.EmpBenEfdDt" /></isnull>
          </or>
        </and>
      </tbl>
      <tbl name="EmpDep" join="LEFT" to="EmpBenBnf">
        <and>
          <eq>
            <fld name="EmpDep.Emp"/>
            <fld name="EmpBenBnf.Emp"/>
          </eq>
          <eq>
            <fld name="EmpDep.Dep"/>
            <fld name="EmpBenBnf.BnfNum"/>
          </eq>
        </and>
      </tbl>
    </tables>
    <display>
      <fld name="EmpBenBnf.*"/>
      <fld name="EmpCde" origname="EmpBenBnf.Emp" type="String"/>
      <fld name="BenCde" origname="EmpBenBnf.Ben" type="String"/>
      <fld name="DepCde">
        <append>
          <fld name="EmpDep.Dep" type="Number"/>
          <val> {</val>
          <fld name="EmpDep.DepLastName" type="String"/>
          <val>, </val>
          <fld name="EmpDep.DepFirstName" type="String"/>
          <val>}</val>
        </append>
      </fld>
    </display>
    <where>
      <eq>
        <fld name="EmpBen.EmpBenId" type="Number"/>
        <val>[F_NavId]</val>
      </eq>
    </where>
    <order>
      <fld name="EmpBenBnf.Ben"/>
    </order>
    <includehistory>Yes</includehistory>
  </dataset>
<!-- Dataset Definition Block Ends -->

<!-- View Definition Starts -->
<view name="list">
  <script name="EmpHeaderCtls" />
  <script name="EmlHeaderCtls"/>
  <display>
    <title>Employee Benefits</title>
    <instructions>Choose a Benefit</instructions>
    <head></head>
    <toolbar><add /></toolbar>
    <body>
      <datasheet dataset="main" headers="TOP">
      <groups>
         <groupby val="[fld_Emp]">
           <header>
             <row>
               <col>[ctl_EmpName]</col>
               <col>[ctl_ProfilePopup]</col>
             </row>
           </header>
         </groupby>
         <groupby val="[fld_EnrSum]">
           <header>
             <row>
               <col>[ctl_EnrSum]</col>
             </row>
           </header>
         </groupby>
         <script name="EmlHeaderGrps"/>
        </groups>
        <row>
          <col wrap="No">[ctl_Lnk1]</col>
          <col align="Right">[ctl_EmpBenEffDt]</col>
          <col align="Right">[ctl_EmpBenEfdDt]</col>
          <col align="Right">[ctl_Lbl3]</col>
          <col align="Right">[ctl_Lbl2]</col>
          <col align="Right">[ctl_FlexCredits]</col>
        </row>
      </datasheet>
    </body>
  </display>
</view>

<view name="edit">
  <script name="EmpHeaderCtls"/>
  <display>
    <title>Employee Benefits</title>
    <instructions>Enter Employee Benefits Information</instructions>
    <head/>
    <toolbar>
      <find/>
      <add/>
      <save/>
      <delete/>
    </toolbar>
    <body>
      <datasheet dataset="main" headers="OVER">
        <groups>
          <groupby val="[fld_Emp]">
            <header>
              <row>
                <col>[ctl_EmpName]</col>
                <col>[ctl_ProfilePopup]</col>
              </row>
            </header>
          </groupby>
          <groupby val="[fld_EnrSum]">
            <header>
              <row>
                <col>[ctl_EnrSum]</col>
              </row>
            </header>
          </groupby>
          <groupby val="[fld_BenId]">
            <header>
              <row>
                <col>[ctl_BenName]</col>
              </row>
            </header>
          </groupby>
        </groups>
        <row>
          <col>
            <tabset>
              <tab name="General" selected="Yes">
                <datasheet dataset="main" headers="LEFT" next="No">
                  <hidden>[ctl_Sys_SQLStmt]</hidden>
                  <hidden>[ctl_Sys_EmpElig]</hidden>
                  <hidden>[ctl_Emp]</hidden>
                  <row>
                    <col>[ctl_Eml]</col>
                  </row>
                  <row>
                    <col>[ctl_Ben]</col>
                  </row>
                  <row>
                    <col>[ctl_EligibleDt]</col>
                  </row>
                  <row>
                    <col>[ctl_EmpBenEffDt]</col>
                  </row>
                  <row>
                    <col>[ctl_EmpBenEfdDt]</col>
                  </row>
                  <row>
                    <col>[ctl_EmpBenDedStartDt]</col>
                  </row>
                  <row>
                    <col>[ctl_EmpBenDedEndDt]</col>
                  </row>
                  <row>
                    <col>[ctl_Units]</col>
                  </row>
                  <if>
                    <when>
                      <eq>
                        <val>[fld_main.IsFlxCrdEmpAmt]</val>
                        <val>Yes</val>
                      </eq>
                    </when>
                    <then>
                      <row>
                        <col>[ctl_FlexCredits]</col>
                      </row>
                    </then>
                    <else>
                      <row>
                        <col>[ctl_FlexCreditsLbl]</col>
                      </row>
                    </else>
                  </if>
                  <row>
                    <col>[ctl_Physician]</col>
                  </row>
                  <row>
                    <col>[ctl_BenSit]</col>
                  </row>
                  <row>
                    <col>[ctl_BenefitNote]</col>
                  </row>
                </datasheet>
              </tab>
              <tab name="Premium and Coverage">
                <datasheet dataset="main" headers="LEFT" next="No">
                  <if>
                    <when>
                      <eq>
                        <val>[fld_main.IsEmpCovEmpAmt]</val>
                        <val>Yes</val>
                      </eq>
                    </when>
                    <then>
                      <row>
                        <col>[ctl_EmpCov]</col>
                      </row>
                    </then>
                    <else>
                      <row>
                        <col>[ctl_Lbl5]</col>
                      </row>
                    </else>
                  </if>
                  <if>
                    <when>
                      <eq>
                        <val>[fld_main.IsCmpCovEmpAmt]</val>
                        <val>Yes</val>
                      </eq>
                    </when>
                    <then>
                      <row>
                        <col>[ctl_CmpCov]</col>
                      </row>
                    </then>
                    <else>
                      <row>
                        <col>[ctl_Lbl8]</col>
                      </row>
                    </else>
                  </if>
                  <if>
                    <when>
                      <eq>
                        <val>[fld_main.IsTotCovEmpAmt]</val>
                        <val>Yes</val>
                      </eq>
                    </when>
                    <then>
                      <row>
                        <col>[ctl_TotCov]</col>
                      </row>
                    </then>
                    <else>
                      <row>
                        <col>[ctl_Lbl11]</col>
                      </row>
                    </else>
                  </if>
                  <if>
                    <when>
                      <eq>
                        <val>[fld_main.IsEmpPremEmpAmt]</val>
                        <val>Yes</val>
                      </eq>
                    </when>
                    <then>
                      <row>
                        <col>[ctl_EmpPrem]</col>
                      </row>
                    </then>
                    <else>
                      <row>
                        <col>[ctl_Lbl6]</col>
                      </row>
                    </else>
                  </if>
                  <row>
                    <col>[ctl_EmpAnnPrem]</col>
                  </row>
                  <row>
                    <col>[ctl_EmpPayPdDed]</col>
                  </row>
                  <if>
                    <when>
                      <eq>
                        <val>[fld_main.IsCmpPremEmpAmt]</val>
                        <val>Yes</val>
                      </eq>
                    </when>
                    <then>
                      <row>
                        <col>[ctl_CmpPrem]</col>
                      </row>
                    </then>
                    <else>
                      <row>
                        <col>[ctl_Lbl9]</col>
                      </row>
                    </else>
                  </if>
                  <if>
                    <when>
                      <eq>
                        <val>[fld_main.IsTotPremEmpAmt]</val>
                        <val>Yes</val>
                      </eq>
                    </when>
                    <then>
                      <row>
                        <col>[ctl_TotPrem]</col>
                      </row>
                    </then>
                    <else>
                      <row>
                        <col>[ctl_Lbl12]</col>
                      </row>
                    </else>
                  </if>
                </datasheet>
              </tab>
              <tab name="FSA">
                <datasheet dataset="main" headers="LEFT" next="No">
                  <row>
                    <col>[ctl_AnnElectAmt]</col>
                  </row>
                  <row>
                    <col>[ctl_PayrollDeduction]</col>
                  </row>
                  <row>
                    <col>[ctl_DepAnnElectAmt]</col>
                  </row>
                </datasheet>
              </tab>
              <tab name="Dependents">
                <datasheet dataset="dependents" headers="MULTI">
                  <hidden xml="Keep">
                    <ctl name="Emp">
                      <val>[SQROPEN]N_Emp_main_1[SQRCLOSE]</val>
                    </ctl>
                    <ctl name="Eml">
                      <val>[SQROPEN]N_Eml_main_1[SQRCLOSE]</val>
                    </ctl>
                    <ctl name="Ben">
                      <val>[SQROPEN]N_Ben_main_1[SQRCLOSE]</val>
                    </ctl>
                  </hidden>
                  <row>
                    <col>[ctl_Dep]</col>
                  </row>
                  <row>
                    <col>[ctl_DepPhysician]</col>
                  </row>
                  <row>
                    <col>[ctl_DepBenEligibleDt]</col>
                  </row>
                  <row>
                    <col>[ctl_DepBenStartDt]</col>
                  </row>
                  <row>
                    <col>[ctl_DepBenEndDt]</col>
                  </row>
                </datasheet>
              </tab>
              <tab name="Beneficiaries">
                <datasheet dataset="beneficiaries" headers="MULTI">
                  <hidden xml="Keep">
                    <ctl name="Emp">
                      <val>[SQROPEN]N_Emp_main_1[SQRCLOSE]</val>
                    </ctl>
                    <ctl name="Eml">
                      <val>[SQROPEN]N_Eml_main_1[SQRCLOSE]</val>
                    </ctl>
                    <ctl name="Ben">
                      <val>[SQROPEN]N_Ben_main_1[SQRCLOSE]</val>
                    </ctl>
                  </hidden>
                  <row>
                    <col>[ctl_BnfNum]</col>
                  </row>
                  <row>
                    <col>[ctl_Contingency]</col>
                  </row>
                  <row>
                    <col>[ctl_BnfPct]</col>
                  </row>
                </datasheet>
              </tab>
            </tabset>
          </col>
        </row>
      </datasheet>
    </body>
  </display>
</view>
<!-- View Definition Block Ends -->

<!-- Form:EmpBen Ends -->